<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Cascadia Mono";
	panose-1:2 11 6 9 2 0 0 2 0 4;}
@font-face
	{font-family:"Liberation Sans";}
@font-face
	{font-family:"Consolas\;Liberation Mono\;Menlo\;";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	text-autospace:ideograph-other;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	color:#00000A;}
h1
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	text-autospace:ideograph-other;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	color:#00000A;
	font-weight:normal;}
h2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	text-autospace:ideograph-other;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	color:#00000A;
	font-weight:normal;}
h5
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	text-autospace:ideograph-other;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	color:#00000A;
	font-weight:normal;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:36.0pt;
	text-autospace:ideograph-other;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	color:#00000A;}
span.InternetLink
	{mso-style-name:"Internet Link";
	color:blue;
	text-decoration:underline;}
.MsoChpDefault
	{font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:103%;
	text-autospace:ideograph-other;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:57.0pt 48.55pt 70.85pt 52.5pt;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=FR link=blue vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=center style='text-align:center'><b><span lang=EN-GB
style='font-size:15.0pt;color:black'>Squeeze2upnp - UPnP/DLNA bridge - User
Guide</span></b></p>

<h1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
21.6pt;text-indent:-21.6pt;page-break-after:avoid'><a
name="__RefHeading__1023_962334235"></a><b><span lang=EN-GB style='font-size:
14.0pt;font-family:"Liberation Sans"'>&nbsp;</span></b></h1>

<h1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
21.6pt;text-indent:-21.6pt;page-break-after:avoid'><b><span lang=EN-GB
style='font-size:14.0pt;font-family:"Liberation Sans"'>1</span></b><b><span
lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></b><b><u><span lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>Introduction</span></u></b></h1>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>1.1</span><span
lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>What Is It?</span></h2>

<p class=MsoNormal><span lang=EN-GB style='color:black'>This program
(squeeze2upnp – a.k.a sq2u or the bridge) turns UPnP/DLNA players into
squeezeboxes to they can be used by the Logitech Media Server as regular SB
devices. It automatically scans local network for UPnP devices and creates an
instance of a modified squeezelite for each one found.</span></p>

<p class=MsoNormal><span lang=EN-GB style='color:black'>It works on any
computer running Windows, macOS (arm and x64), or Linux (x86/64, arm, aarch64,
sparc, mips, ppc), FreeBSD (x64) and Solaris (x64). Most builds have a normal
and a –static version. The –static version removes the dependency with shared
libraries. It’s convenient on some NAS platform that often are not full Linux
systems, but the drawback is that libraries updates to your system will be not
be used.</span></p>

<p class=MsoNormal><span lang=EN-GB style='color:black'>It can be installed,
configured and ran from LMS, but it can also run on another machine on the same
network. In the latter case, configuration must be done semi-manually.</span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>1.2</span><span
lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>How it Works</span></h2>

<p class=MsoNormal><span lang=EN-GB style='color:black'>The bridge receives and
forwards commands and audio streams from LMS to UPnP players. For each track
played by LMS, an UPnP command containing metadata (artist, album, artwork) and
format (codec, duration) information is sent to the player and then audio is
forwarded using HTTP. Progress, status, volume changes and as much as possible
local actions (play/pause/stop) are retrieved and forward to LMS.</span></p>

<p class=MsoNormal><span lang=EN-US>There are two modes of operation: <b>pass-through</b>
and <b>full processing</b> (see &lt;mode&gt; parameter description for detailed
configuration). In both modes, the bridge queries audio capabilities from the
player so that it can inform LMS of which format are accepted. Some players
report their capabilities incorrectly and requires manual forcing using
&lt;forced_mimetype&gt;. The actual list of supported codecs can be limited
using &lt;codec&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>1.2.1 Pass-through mode</span></p>

<p class=MsoNormal><span lang=EN-US>In this mode, the bridge simply forwards
the coded (mp3, flac …) audio received from LMS to the UPnP player, without
decoding it. Only very simple alterations are made in case of flac, aac (when
encapsulated in m4a files) and pcm. It’s the simplest mode, but the decoding
success totally relies on the UPnP player and mileage will vary from track to
track as the UPnP player might not be able to recognize some formats (use
&lt;codecs&gt;, &lt;mp4&gt; and &lt;forced_mimetype&gt; parameters to tweak
this).</span></p>

<p class=MsoNormal><span lang=EN-US>Except when the source audio from LMS is
un-coded (either because it’s and aif or wav file or because you’ve setup LMS
to send only un-coded audio), replay gain and transition (fading) will not work.
</span></p>

<p class=MsoNormal><span lang=EN-GB style='color:black'>1.2.2 Full processing</span></p>

<p class=MsoNormal><span lang=EN-GB style='color:black'>In this mode, the
bridge decodes the received audio and transforms it into mp3, aac, flac or
pcm/wav/aif before sending it to the UPnP player. This allows a much more
controlled experience, as only one audio format is used and that format can be
very strictly controlled to be always the same, including sample rate and
sample size. This mode supports pcm (plain, wav and aif), flac, alac, mp3, aac
and ogg (vorbis/opus/flac) tracks.</span></p>

<p class=MsoNormal><span lang=EN-GB style='color:black'>This enables replay
gain and transition (fade in, out, in-out but not cross-fading) on all tracks.
To add cross-fading, tracks must be sent to the UPnP player as a continuous
stream (webradio) and this is what the “flow” mode extension does.
Unfortunately, in this mode, metadata can be sent only when using mp3 or aac
and are limited to title/artist/album and sometimes artwork (no duration). See
the &lt;send_metadata&gt; and &lt;send_icy&gt; parameters.</span></p>

<p class=MsoNormal><span lang=EN-GB style='color:black'>1.2.3 Gapless
consideration</span></p>

<p class=MsoNormal><span lang=EN-GB>UPnP players normally receive commands to
play track one by one. The bridge detects when current track has stopped and
then requires the next one to LMS. </span><span lang=EN-US>Some UPnP players
have a gapless option that allows controllers to send a command for the next
track while the current one is playing (see option &lt;accept_nexturi</span><span
lang=EN-US style='font-size:11.0pt'>&gt;</span><span lang=EN-US>. Still, many
players either don’t report the support of that feature or fail on track’s
transition.</span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>1.3</span><span
lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>Configuration</span></h2>

<p class=MsoNormal><span lang=EN-GB>The bridge can run standalone with a few
command lines options to tweak it, or it can take its configuration from an XML
config file. That file does NOT create the players, it just provides
configuration information for when they are detected. There are global
settings, common settings that apply by default to all players and player’s
specific settings that override the common ones.</span></p>

<h1 style='margin-top:24.0pt;margin-right:0cm;margin-bottom:10.0pt;margin-left:
21.55pt;text-indent:-21.55pt;page-break-after:avoid'><a
name="__RefHeading__524_1289253441"></a><b><span lang=EN-GB style='font-size:
14.0pt;font-family:"Liberation Sans"'>2&nbsp;&nbsp;Using <u>UPnP/DLNA bridge</u></span></b></h1>

<p class=MsoNormal><span lang=EN-GB style='color:black'>In LMS, the bridge is
automatically available as third party plugins and all you have to do is
install it and go in its settings to select the “binary helper” (the
application doing the actual work). If you want to try the development version,
add the following repository to LMS: </span><span class=InternetLink><span
lang=EN-US>http://downloads.sourceforge.net/project/lms-to-upnp/dev/repo-sf.xml.</span></span></p>

<p class=MsoNormal><span lang=EN-US>Once the plugin is installed, just enable
the binary helper, wait for about 30 seconds and refresh your page, the list of
discovered players will be displayed. There is a “generate” button that is
really optional, if you want to scan and re-create a config file <b>now.</b>
From there, you can tweak all settings, common and player’s specific. Just use
the info bubble for basic help. Players are added to the configuration file as
they are discovered, unless you disable the “autosave” option.</span></p>

<p class=MsoNormal><span lang=EN-US>You can also just run the
squeeze2upnp-xxx-yyy application wherever you want on your network, it does not
have to coexist with LMS on the same machine. If you need a config file, you’ll
have to edit it manually, but it can still be generated, see command line
options. Type “exit” when the program runs to terminate it (it also responds to
kill signal).</span></p>

<p class=MsoNormal><u><span lang=EN-GB style='color:black'>README on firewall</span></u><span
lang=EN-GB style='color:black'>: The bridge must be allowed to go through the
firewall of the machine it runs onto. It opens a global port (usually 49152,
see &lt;binding&gt;) and then needs one extra port per device when playing.
Such ports are random unless &lt;binding&gt; is set. In Windows, set an entry
for binary helper. <b>If you use docker, you must set network to host mode, the
bridge cannot be behind a NAT.</b></span></p>

<h5 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
0cm;page-break-after:avoid'><a name="__RefHeading__1149_395429088"></a><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>2.1 Setting
up mode of operation</span></h5>

<p class=MsoNormal><span lang=EN-GB style='color:black'>As mentioned above, the
bridge can operate in two very different modes: pass-through and full
processing, set by the &lt;mode&gt; parameters </span><span lang=EN-US>and a
special “null” variant which replaces all audio by silent mp3 frames to use the
UPnP player just as a display. </span></p>

<p class=MsoNormal style='background:white'><u><span lang=EN-GB
style='color:black'>2.1.1 Pass-through mode</span></u></p>

<p class=MsoNormal style='background:white'><span lang=EN-GB style='color:black'>In
pass-through mode, the selection of &lt;codecs&gt; is very important. You can
try all codecs supported by LMS: dsf, dff, wav, aif, pcm, ogf, flc, aif, mp3,
aac, ogg, ops, alc and wma. The bridge takes that list and keeps only codecs
that the player reports to support (using ProtocolInfo query, for the more
techy savvy) and then reports that to LMS which will send tracks using these or
transcode accordingly. If you are sure your player does not report a supported
codec, just add it through the &lt;forced_mimetypes&gt; option.</span></p>

<p class=MsoNormal style='background:white'><span lang=EN-GB style='color:black'>That
list is not perfect because some details cannot be guessed. For example, if
your player supports flac but not 24 bits samples, then it will successfully
play all 8 and 16 bits tracks but fail with 24 bits. As well, formats like alac
and aac are often not explicitly reported, only “mp4” (which is a container) is
set. Same problem exists for opus, vorbis and “flac in ogg” where only ogg
(container as well) is reported. You just have to try then and remove non
supported codecs from &lt;codec&gt; option (a small trick: the &lt;codec&gt;
list of a player can contain tokens like “+xxx” or “-xxx” which means to use
the default list but add or remove xxx). Similarly, the maximum sample rate
supported by the player cannot be guessed in most cases, so you’ll have to tweak
it if the default is not enough.</span></p>

<p class=MsoNormal style='background:white'><span lang=EN-GB style='color:black'>Although
the bridge does not decode data, it does a few tweaks for flac, mp4 and
pcm/wav/aif audio tracks. </span></p>

<p class=MsoNormal style='background:white'><b><span lang=EN-GB
style='color:black'>FLAC</span></b><span lang=EN-GB style='color:black'>: When
seeking in a track, LMS does not send a flac header which can cause playback
failure. The parameter &lt;flac_header&gt; let the bridge insert a pseudo flac
header on the fly when it’s missing.<b> </b></span></p>

<p class=MsoNormal style='background:white'><b><span lang=EN-GB
style='color:black'>PCM/WAV/AIF: </span></b><span lang=EN-GB style='color:black'>As
audio is already decoded, the bridge can do a bit more tweaking. It applied
replay gain and do fade in, out and in-out even in passtrough mode. It can also
truncate the samples to 16 bits using the &lt;L24_format&gt; option.</span></p>

<p class=MsoNormal style='background:white'><b><span lang=EN-CA>AAC:</span></b><span
lang=EN-CA> Such codec can be carried inside a mp4 container or as raw adts
frames. The codec name is still “aac” as far as LMS is concerned but it can
send either or. As soon as “audio/mp4” or audio/m4a is reported by a player, it
is assumed that adts and mp4 container are supported. When receiving “mp4
tracks form LMS, the bridge will simply forward these unless the player has
only reported only “audio/aac”. In that case, the bridge unwraps the adts frame
from the container and sends them directly. Unfortunately, sometimes mp4
container is poorly supported but adts is very well and so you can unset
&lt;mp4&gt; option to force unwrapping.</span></p>

<p class=MsoNormal style='background:white'><b><span lang=EN-CA>DSF/DSD:</span></b><span
lang=EN-CA> Mileage will vary as there does not seem to be an agreed standard
on how to send these over UPnP/DLNA. You might have to manually add mimetypes
to &lt;forced_mimetypes&gt; parameter. I don’t have a lot of passion for these
useless formats, so it’s not where I spend most attention and time..</span></p>

<p class=MsoNormal style='background:white'><b><span lang=EN-CA>OGG</span></b><span
lang=EN-CA>: It is a container not a codec (often confused with vorbis) and can
be used to wrap vorbis, opus or flac (ogg, ops and ogf in LMS’ codec terminology).
Like for mp4, most players won’t indicate what they actually support, beyond
audio/ogg (the proper syntax for such mimetypes is audio/ogg;codecs=vorbis,
audio/ogg;codecs=opus and audio/ogg;codecs=flac). The bridge is non-strict and
will allow ogg, ops and ogf if audio/ogg is found, but it will send the full
mimetype details to the player. If this fails, simply manually remove
ogg/ops/of from the codecs list.</span></p>

<p class=MsoNormal style='background:white'><u><span lang=EN-GB
style='color:black'>2.1.2 Full processing mode</span></u></p>

<p class=MsoNormal style='background:white'><span lang=EN-GB style='color:black'>In
full processing mode, the bridge decodes pcm, wav, aif, ogf, flc, alc, mp3,
ogg, ops, ogf and aac audio tracks ((as long as they are set in the
&lt;codecs&gt; parameter), optionally re-encodes them into mp3, aac, flac,
pcm/wav/aif </span></p>

<p class=MsoNormal style='background:white'><span lang=EN-CA>The &lt;codecs&gt;
option is not related any more to what the player actually supports, as the
bridge does the decoding. Similarly, as the &lt;sample_rate&gt; is just an
indication for LMS when to do resampling, just set it to 192000 and let the
bridge do all the resampling/transcoding using the &lt;mode&gt; parameter. You
can still let &lt;sample_rate&gt; to be the actual maximum player rate, but
you’ll likely end with some resampling done in LMS and some done in the Bridge
which might be confusing.</span></p>

<p class=MsoNormal style='background:white'><span lang=EN-GB style='color:black'>Here
you have full control up to decide to resample at a fixed sample rate and size
or just use whatever is the received format</span></p>

<p class=MsoNormal style='background:white'><span lang=EN-GB style='color:black'>Because
audio is decoded, replay gain will always work as well as fade-in, out and
in-out. If you want cross-fade in addition, the use the “flow” option but then
you <b>must</b> set the sample rate and size as all tracks become a continuous
stream like a webradio. When receiving such stream, players cannot get tracks
metadata unless you use mp3 or aac re-encoding and have enabled
&lt;send_metadata&gt; and &lt;send_icy&gt; and your player supports “icy” mode.</span></p>

<p class=MsoNormal style='background:white'><span lang=EN-GB style='color:black'>Another
issue of flow mode is that the bridge purely relies on timing to detect track
change. So if LMS does not provide track’s duration, that will not work which
means you can’t have a password on LMS.</span></p>

<p class=MsoNormal style='background:white'><u><span lang=EN-GB
style='color:black'>2.1.2 Auto mode</span></u></p>

<p class=MsoNormal style='background:white'><span lang=EN-GB style='color:black'>This
mode is simply (which the default) is simply a combination of the previous two.
Every track is converted to flac in full processing mode, keeping its sample
rate and size *except* webradio in mp3, aac or ogg which are passthrough *if*
you have enabled ICY metadata usage. The objective is to have the benefits of a
stable, well-recognized format but keep the benefit of ICY metadata when
relevant.</span></p>

<h1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
21.6pt;text-indent:-21.6pt;page-break-after:avoid'><a
name="__RefHeading__1030_962334235"></a><a name="__RefHeading__1197_939935217"></a><b><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>3</span></b><b><span
lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b><b><u><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>Detailed
Information</span></u></b></h1>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><a
name="__RefHeading__1028_962334235"></a><a name="__DdeLink__595_1289253441"></a><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>3.1 HTTP
server and communication</span></h2>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-GB style='color:
black'>The player grabs the audio data (passthrough or re-encoded) from the
bridge through an HTTP server. One of the main difficulties is that players
usually expect an audio track to be fully and always available on the server,
its length communicated with a parameter named “content-length) and will try to
seek trough it randomly. Obviously, this cannot be the case with the bridge as
LMS does not tell the size of the file (he does not even know it when it
transcodes or seeks) and it is received on the fly. In addition, many UPnP
players are poorly tested and not very compatible with either UPnP or HTTP
standards so various options are to be tried. The following applies to
&lt;stream_length&gt; setting:</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-GB>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><b><span lang=EN-US>Chunked (-3): </span></b><span
lang=EN-US>This is the default for HTTP 1.1 and is made to handle exactly the
problem of unknown file size. The server sends data by “chunks” and never tells
the full length to the player. This is the preferred option when supported
(some claim to be HTTP 1.1 and don’t).</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><b><span lang=EN-US>&nbsp;</span></b></p>

<p class=MsoNormal style='margin-bottom:0cm'><b><span lang=EN-US>No-Length
(-1): </span></b><span lang=EN-US>It’s perfectly legit for an HTTP server to
never indicate the “content-length” of what it sends. Some players don’t like
it and will try to seek trough the file, toward the end to guess the size and
that cannot work (again, the bridge does not have the whole file)</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><b><span lang=EN-US>&nbsp;</span></b></p>

<p class=MsoNormal style='margin-bottom:0cm'><b><span lang=EN-US>If-Known (-2):
</span></b><span lang=EN-US> When sending pcm/wav and aif, as long as we know
the duration, the size can be deduced from the sample rate and size. Whenever
that is possible, then bridge will populate “content-length” with that
calculated value.</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><b><span lang=EN-US>Estimated (0):
</span></b><span lang=EN-US>Last resort is to always force a “content-length”
through an educated guess, based on bitrate and duration (with comfortable
margin). When no data is available, the maximum 32 bits-integer (2^32-1) will
be used. Note that in flow mode or when streaming live content, it fallbacks to
no-length</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><b><span lang=EN-US>Forced
(&lt;value&gt;):</span></b><span lang=EN-US> As above, but with a user-defined
value that can be as large as 2^63-1. It will always be sent, even in flow or
when streaming live content, so it will limit the duration of these session.</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>The last two
options create a different type of issues where some players will insist to
receive their promised amount of bytes and will re-open the connection again
and again, even when they are told their request cannot be satisfied (we gave
all what we could).</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>Regardless of
these options, players will try to seek through the file they want to GET with
HTTP for various reasons. Some players open a connection once, close it and
then re-open right away, expecting to have the same file (regardless of UPnP
settings that could tell them that this file is a changing stream…). Or others
like Sonos close the connection on pause (although UPnP option indicate that
the bridge support “connection stalling”), re-open a connection upon resume and
seek into some of the recent past sent bytes. </span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>The bridge is
trying to serve these requests as best as possible by caching the already
received audio. The &lt;cache&gt; option lets you tweak that behavior. It’s an
8MB memory cache which should be enough to look into the past. No player should
require the same resource from the beginning after a long while. Still, if it
happens, the cache can be on the disk in which case the past audio will be
fully accessible. Note than when playing a webradio or in flow mode, disk cache
falls back to memory cache for obvious reasons. The file is in you system’s
temp folder.</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0cm'><span lang=EN-US>The UPnP standard
tries to handle this problem by letting servers indicate if they can serve the
whole file or, if not, which sub-parts they can offer. It includes information
like does the head or the tail of the audio progresses. The vast majority of UPnP
players ignore these indications but when one does not, it can be a problem to
tell the truth. For example, if the bridge reports it only has a portion of the
file in cache, some players will refuse to pause any track because they
estimate it’s a live stream. The solution is to either use a disk cache or
claim that our cache is complete although just a part is in memory (a reward
for lying…). </span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
0cm;page-break-after:avoid;background:white'><span lang=EN-GB style='font-size:
14.0pt;font-family:"Liberation Sans"'>3.2</span><span lang=EN-GB
style='font-size:7.0pt'>&nbsp;&nbsp; </span><span lang=EN-GB style='font-size:
14.0pt;font-family:"Liberation Sans"'>Troubleshooting uncompressed audio
formats</span></h2>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='background:
yellow'>Note: If you have a password to access LMS, the bridge will be unable
to properly handle uncompressed audio formats.</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>&nbsp;</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>When a file is
wav or aif in pass-through mode or when using pcm for full processing,
uncompressed audio will be sent. Most UPnP devices can accept 3 sorts of
uncompressed audio:</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-bottom:0cm;text-indent:-18.0pt'><span
lang=EN-GB style='font-family:Symbol'>·</span><span lang=EN-GB
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-GB>RAW (pcm) audio data (no header) with most significant byte first</span></p>

<p class=MsoListParagraph style='margin-bottom:0cm;text-indent:-18.0pt'><span
lang=EN-GB style='font-family:Symbol'>·</span><span lang=EN-GB
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-GB>WAV audio files with least significant byte first (needs a header)</span></p>

<p class=MsoListParagraph style='margin-bottom:0cm;text-indent:-18.0pt'><span
lang=EN-GB style='font-family:Symbol'>·</span><span lang=EN-GB
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-GB>AIFF audio files with most significant byte first (needs a header)</span></p>

<p class=MsoListParagraph style='margin-bottom:0cm'><span lang=EN-GB>&nbsp;</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>The parameter
&lt;raw_audio_format&gt; let you control what format the bridge is allowed to
send to the player. This is an ordered list, combining ‘raw’, ‘wav’ and ‘aif’
(items are tried by order).<a name=move42809342119></a> Sending a wav or an aif
files to a player requires the addition of a header that tells the total file
size (the formats are not good for streaming, really). This limits the duration
of playback, but the bridge also needs to guess the file size. It does that
based on track duration, sample rate and sample size (rounding error is below
1ms). These format are more or less equivalents so the bridge can transmute
them, but not all of them are accepted by the player. Unsupported items (per
player’s query) will be removed unless they are forced using
&lt;forced_mimetypes&gt;</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>&nbsp;</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>If track duration
is unavailable (LMS metadata is inaccessible for any reason – you might have
set a password), then the bridge uses 2^31 or 2^63 for length. When the whole
file has been sent, the bridge terminates the connection and the player,
although it has not received the full expected size should simply moves to the
next track. Some players try to re-open forever the connection and LMS is
stuck. Try to use uncompressed format to what works with your player and
usually raw (header-less) works the best.</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>&nbsp;</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>When using full
processing mode, raw audio cannot be used, unless the sample rate and sample
size are forced in the &lt;mode&gt; parameter or pcm/wav/aif audio is sent by
LMS. This is because the actual sample rate and size must be sent in the UPnP
play command much before the audio starts to be received and the bridge has no
idea at that moment what these will be. </span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>&nbsp;</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB>Most players do
not support 24 bits uncompressed format. By setting parameter
&lt;L24_format&gt; to 2, the bridge will <u>always</u> truncate </span><span
lang=EN-GB style='color:black'>samples to 16 bits (keeping the most significant
2 bytes). Some players accept 24 bits files but only when packaged into wav or
aiff, so to do this truncation only when raw samples are sent, set
&lt;L24_format&gt; to 3.</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='color:
black'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='color:
black'>In &lt;mode&gt; parameter, you can fix the sample size when using full
processing mode (and you *must* set it when using flow option). The sample size
set her will take precedence over the &lt;L24_format&gt; option. </span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>3.3</span><span
lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp; </span><span lang=EN-GB
style='font-size:14.0pt;font-family:"Liberation Sans"'>Using player’s local
commands (remote/buttons)</span></h2>

<p class=MsoNormal><span lang=EN-GB style='color:black'>LMS takes full control
of players and t</span><span lang=EN-GB>o use a registered one independently,
best is to switch it off in LMS. Then whatever happens to the player is not
forwarded to LMS and no LMS command will be sent that would interfere with it.
Only when you switch the player back on from LMS will it be under the control
of LMS.</span></p>

<p class=MsoNormal><span lang=EN-GB>Having to switch an UPnP player off every
time you want to use it independently from LMS might be inconvenient.
Unfortunately, LMS can send volume commands even to a “stopped” player. To
avoid these “spurious” volume commands, unless LMS plays, set the option
&lt;volume_on_play&gt; to 1. </span><span lang=EN-GB style='color:black'>If you
want to control volume only from the player and ignore all LMS volume commands,
set &lt;volume_on_play&gt; to -1 and LMS will have no influence on the player’s
volume. </span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='color:
black'>Pause and play commands using the player's own controls are forwarded to
LMS so that it synchronizes accordingly. This takes up to 1 second to be taken
into account, so be gentle with fast play/pause toggles. Volume commands are
synchronized as well, so control can be done from LMS or the player. (even if
&lt;volume_on_play&gt; is set to -1, level <u>displayed</u> on LMS will still
be synchronized). This facility may not work well with all players and can be
disabled&nbsp; by setting &lt;volume_feedback&gt; to 0</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='color:
black'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='color:
black'>Using player’s control ‘stop’ button does not work well, unless you
first use ‘pause’ then, and only the, ‘stop’. If you press ‘stop’ at first, LMS
will either immediately move to the next track, or resume the current track
sometimes a delay.</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='color:
black'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='color:
black'>Using “next” or “previous on the player directly does not work, and
never will as UPnP does not allow a player to forward such a command to it’s
controller.</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='color:
black'>&nbsp;<a name="__RefHeading__2026_773093279"></a><a
name="__DdeLink__1712_568257573"></a><a name="__RefHeading__1532_593273442"></a></span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
0cm;page-break-after:avoid;background:white'><span lang=EN-GB style='font-size:
14.0pt;font-family:"Liberation Sans"'>4 FAQ</span></h2>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-GB style='color:
black'>There is a detailed log that can be viewed and searched through,
accessible the plugin’s settings (it’s also spit out on screen – stderr – when
the bridge is launched manually)</span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:10.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><b><span
lang=EN-GB style='color:black'>No player  is detected: </span></b><span
lang=EN-GB style='color:black'>make sure you are not behind a NAT, like in a
docker not in “host” mode or in a Virtual Machine.</span></h2>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:10.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><b><span
lang=EN-GB style='color:black'>Playback starts but nothing is heard/no
progress:</span></b><span lang=EN-GB style='color:black'> make sure your
firewall is not blocking incoming HTTP request (see &lt;binding&gt; and network
related options)</span></h2>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:10.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><b><span
lang=EN-GB style='color:black'>Only one track plays: </span></b><span
lang=EN-GB style='color:black'>The player does not support gapless properly,
although it reports it. Set &lt;enable_nexturi&gt; to 0. Try various
&lt;stream_length&gt; options</span></h2>

<p class=MsoNormal><b><span lang=EN-GB style='color:black'>Player does not
pause: </span></b><span lang=EN-GB style='color:black'>read the section on HTTP
server and try different values for &lt;stream_length&gt;. Make sure
&lt;cache&gt; is set to 1 or 2. It can also happen that players won’t pause a
stream they believe is a live stream. For example, Sonos refuse to pause
anything that is receiving metadata through the “icy” protocol. Try to set
&lt;send_icy&gt; to 0 which disables metadata. Try to set &lt;live_pause&gt; to
0 so that pausing actually stops live streams instead of just pausing them
(you’ll lose whatever was buffer by the player). </span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:10.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><b><span
lang=EN-GB style='color:black'>Player does not resume: </span></b><span
lang=EN-GB style='color:black'>see above but if nothing works, try setting
&lt;seek_on_resume&gt; to 1 which forces LMS to do a time seek where it paused
(brute force solution, last resort).</span></h2>

<p class=MsoNormal><b><span lang=EN-GB style='color:black'>I don’t understand
“full processing”: </span></b><span lang=EN-GB style='color:black'>in that
mode, all tracks are decoded by the bridge as if they were about to be played
locally. But the bridge re-encodes them in mp3/aac/flac/wav/aif/pcm before
sending them to the player</span></p>

<p class=MsoNormal><b><span lang=EN-GB style='color:black'>Sure, but what’s the
point: </span></b><span lang=EN-GB style='color:black'>you can send always the
exact same format to your player once you know it works well. In addition, you
have fade in/out/in-out.</span></p>

<p class=MsoNormal><b><span lang=EN-GB style='color:black'>What is that “flow”
thing: </span></b><span lang=EN-GB style='color:black'>think about a broadcast
radio where all tracks are sent in a continuous stream, no interruption. You
have true gapless and cross-fade. There is the possibility to insert, in the
stream, some limited metadata (artist/title/album/artwok) but then must be mp3
or aac. It’s also more brittle as the bridge can only rely on cumulated time to
known when a track boundary ahs been crossed and report to LMS.</span></p>

<p class=MsoNormal><b><span lang=EN-GB style='color:black'>MP3 files do play
when using an HTTP length:</span></b><span lang=EN-GB style='color:black'>  Some
players (e.g. fb2k when networking is set to allow HTTP seeking) “probe” the
end of an mp3 file when a content-length is set. That cannot work as the bridge
does not have the full file, obviously. Use one of  &lt;stream_length&gt; mode that
does not have content-length (-3, -2 or -1)</span></p>

<p class=MsoNormal><b><span lang=EN-GB style='color:black'>FLAC files do not
seek or resume:</span></b><span lang=EN-GB style='color:black'>  this is a
passthrough issue due to the lack of flac header in LMS. The bridge might
reconstruct it incorrectly. You can use full processing mode or create a custom
transcoding rule that forces LMS to re-encode flac files during seeking,
instead of simply sending them from an offset.&nbsp;Edit the
custom-convert.conf file on your system with:</span></p>

<p class=MsoNormal style='margin-left:1.0cm'><i><span lang=EN-GB
style='font-size:10.0pt;color:black'>(if you copy-paste below,be careful with
the indentation)</span></i></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:1.0cm'><span lang=EN-GB style='font-size:9.0pt;font-family:"Consolas\;Liberation Mono\;Menlo\;";
color:#333333'>flc flc * *</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:1.0cm'><span lang=EN-GB style='font-size:9.0pt;font-family:"Consolas\;Liberation Mono\;Menlo\;";
color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp; # IR</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:8.5pt;
margin-left:1.0cm'><span lang=EN-GB style='font-size:9.0pt;font-family:"Consolas\;Liberation Mono\;Menlo\;";
color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [flac] -cs - -</span></p>

<p class=MsoNormal><b><span lang=EN-GB style='color:black'>MP4 files do not
play or pause/resume: </span></b><span lang=EN-GB style='color:black'>usually
in passthrough mode only.<b> S</b>ee below for general pause/resume issue. In
addition, some players can’t handle mp4 when using HTTP with no content-length.
Try changing &lt;stream_length&gt; to another option or set &lt;mp4&gt; to 0 so
that aac in mp4 is unwrapped (this disables usage of mp4 container in general,
so alac is removed from &lt;codec&gt;). Try removing “alc” in &lt;codec&gt; to
remove use of mp4 for alac is this is an alac-only issue.</span></p>

<p class=MsoNormal><b><span lang=EN-GB style='color:black'>OGG files do not
play</span></b><span lang=EN-GB style='color:black'>: players like Sonos report
“audio/ogg” but actually only support flac in ogg, so disable “ogg” and “ops”
in &lt;codec&gt;</span></p>

<p class=MsoNormal style='margin-bottom:20.0pt'><b><span lang=EN-GB
style='color:black'>I want to use roon</span></b><span lang=EN-GB
style='color:black'>: there is a &lt;roon_mode&gt; that helps but there will be
severe limitation as roon does not implement a full LMS command line server. So
no metadata will be displayed and HTTP management will be tricky.</span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><a
name="__RefHeading__1860_842035336"></a><span lang=EN-GB style='font-size:14.0pt;
font-family:"Liberation Sans"'>4.1</span><span lang=EN-GB style='font-size:
7.0pt'>&nbsp; </span><span lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>Sonos
specific case</span></h2>

<p class=MsoNormal><span lang=EN-GB>Sonos groups are supported. When a group is
created, all slave devices disappear from LMS and only the master remains.
Slaves enter into a “stealth” mode where they are only used for volume
management as the bridge tries to preserve relative volume. Slaves will
re-appear maximum 30s after they are un-grouped using the Sonos application (in
general, any group change requires up to a 30s update delay). Similarly, when
starting the bridge, it can take up to 30s for groups to be reported
accurately. Do no try to change volume or play immediately after updating
groups, volume can be inaccurate.</span></p>

<p class=MsoNormal><span lang=EN-GB>When changing the master’s volume form LMS,
all devices in a group are updated proportionally to their existing volume. To
change volume individually (the ratios), the Sonos controller must be used.
From LMS, it is possible to reset all players to the same volume by setting the
master’s volume to 0 then setting it again to another value. Note than when
pausing, the volume will go to 0 for a quick second and then will be restored.
It seems that this can cause some issues</span></p>

<p class=MsoListParagraph style='margin:0cm'><span lang=EN-US style='color:
black'>There is a fair bit of code to handle Sonos’ strange HTTP behavior with
regards to pausing. They close the connection upon pause and re-open it from
the beginning after resume, then close it again and re-open a last time with a
proper start byte position. </span></p>

<h1 style='margin-top:24.0pt;margin-right:0cm;margin-bottom:10.0pt;margin-left:
21.55pt;text-indent:-21.55pt;page-break-after:avoid'><a
name="__RefHeading__592_1289253441"></a><b><span lang=EN-GB style='font-size:
14.0pt;font-family:"Liberation Sans"'>5</span></b><b><span lang=EN-GB
style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp; </span></b><b><u><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>Configuring
Squeeze2uPnP</span></u></b></h1>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><a
name="__RefHeading__1032_962334235"></a><span lang=EN-GB style='font-size:14.0pt;
font-family:"Liberation Sans"'>5.1 Command line</span></h2>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-s
&lt;server&gt;[:&lt;port&gt;]     connect to specified server, otherwise uses autodiscovery
to find server                  &lt;server</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-b
&lt;address|iface&gt;]      network address (or interface name) to bind to                                              &lt;binding&gt;</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-g
-3|-2|-1|0|&lt;n&gt;        HTTP content-length (-3:chunked(*), -2:if known,
-1:none, 0:fixed large, &lt;n&gt;: your value ) &lt;stream_length&gt;</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-C
&lt;0|1|2&gt;               HTTP caching mode (0=memory, 1=memory but claim
it's infinite(*), 2=on disk)                   &lt;cache&gt;</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-P                 
    pause means stop live streams (always) or tracks (flow only)                                 &lt;live_pause&gt;</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-c
auto|thru|[pcm|flc[:&lt;q&gt;]|mp3[:&lt;r&gt;]|aac[:&lt;r&gt;][,r:[-]&lt;rate&gt;][,s:&lt;8|16|24&gt;][,flow]]
transcode mode (auto)              &lt;mode&gt;</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:black'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-M
&lt;modelname&gt;       set the squeezelite player model name sent to the
server (default: </span><span lang=EN-US style='font-size:9.5pt;font-family:
"Cascadia Mono";color:black'>UPnPBridge</span><span lang=EN-US
style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>)</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-x
&lt;config file&gt;     read config from file (default is ./config.xml)</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-i
&lt;config file&gt;     discover players, save &lt;config file&gt; and exit</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-I                  
auto save config at every network scan</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-d
&lt;log&gt;=&lt;level&gt;     set logging level, logs:
all|slimproto|slimmain|stream|decode|output|web|main|util|upnp, level:
error|warn|info|debug|sdebug</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-f
&lt;logfile&gt;         write debug to logfile</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-p
&lt;pid file&gt;        write PID in file</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-z
                 daemonize</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-Z
                 NOT interactive</span></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>-k
                 immediate exit on SIGQUIT and SIGTERM</span></p>

<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:
28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span
lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>5.1</span><span
lang=EN-GB style='font-size:7.0pt'>&nbsp;</span><span lang=EN-GB
style='font-size:14.0pt;font-family:"Liberation Sans"'>Configuration File</span></h2>

<p class=MsoNormal><a name="__DdeLink__1139_19111252451"></a><span lang=EN-GB
style='color:black'>There are 3 parts in a configuration file: system
parameters, &lt;common&gt; parameters that apply by default to all UPnP players
and, for each UPnP player discovered, a &lt;device&gt; section. When a
parameter is set in an UPnP player &lt;device&gt; section, it takes precedence
over the same parameter in the &lt;common&gt; section. </span></p>

<p class=MsoNormal style='margin-bottom:0cm'><b><span lang=EN-GB
style='font-size:11.0pt;color:black'>&lt;?xml version=&quot;1.0&quot;?&gt;</span></b></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;squeeze2upnp&gt;</span></b></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;<i>Global
options</i></span></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:11.0pt;color:black'>&nbsp;&lt;binding&gt;ip|iface]:[port
&gt; 49152] | ?&lt;/binding&gt; </span></b><i><span lang=EN-US
style='font-size:11.0pt;color:black'>default = ?</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>(ip|iface = IP address|interface, port =
port number) for the uPnP operations (useful for a computer with multiple
Ethernet interfaces, or to assign a special port number which must be above
49152) . If only IP or interface name address is set, a randomly available port
will be selected, usually 49152). If only a port is specified, then the default
Ethernet interface is used.</span></i></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;[Network
socket to use]</span></p>

<p class=MsoNormal style='margin-top:20.0pt'><b><span lang=EN-US
style='font-size:11.0pt;color:black'>&nbsp;&lt;custom_discovery&gt;item1;item2;…itemN&lt;/custom_discovery&gt;</span></b><i><span
lang=EN-US style='font-size:11.0pt;color:black'> </span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>This is a comma or semi-colon separated
list of UPnP search tokens. By default, UPnP searches are done for standard
devices of version 1 or 2, i.e. </span></i><span lang=EN-US style='font-size:
9.5pt;font-family:"Cascadia Mono";color:#A31515'>&quot;urn:schemas-upnp-org:device:MediaRenderer:1&quot;
</span><i><span lang=EN-GB style='font-size:11.0pt;color:black'>and</span></i><span
lang=EN-US style='font-size:9.5pt;font-family:"Cascadia Mono";color:#A31515'>
schemas-upnp-org:device:MediaRenderer:2&quot;</span><i><span lang=EN-GB
style='font-size:11.0pt;color:black'> but some vendors think they are smart and
will implement UPnP with a different token. This allows you to <b>add</b>
search tokens to the standard ones.</span></i></p>

<p class=MsoNormal style='margin-bottom:0cm;text-autospace:none'><span
lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;&nbsp;[UPnP extra search
tokens]</span></p>

<p class=MsoNormal style='margin-top:20.0pt'><b><span lang=EN-US
style='font-size:11.0pt;color:black'>&lt;log_limit&gt;-1 |
value&lt;/log_limit&gt; </span></b><i><span lang=EN-US style='font-size:11.0pt;
color:black'>default = -1</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>Sets the maximum size (in MB) of a
logfile. Set to -1 for unlimited</span></i></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>[Logging
options </span><span lang=EN-GB style='font-size:11.0pt;font-family:Wingdings;
color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;color:black'> Max
size (MB)]</span></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;slimproto_log&gt;error
| warn | info | debug | sdebug&lt;/slimproto_log&gt;</span></b></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;stream_log&gt;error
| warn | info | debug | sdebug&lt;/stream_log&gt;</span></b></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;output_log&gt;error
| warn | info | debug | sdebug&lt;/output_log&gt;</span></b></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;decode_log&gt;error
| warn | info | debug | sdebug&lt;/decode_log&gt;</span></b></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;web_log&gt;error
| warn | info | debug | sdebug&lt;/web_log&gt;</span></b></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:11.0pt;color:black'>&lt;upnp_log&gt;error
| warn | info | debug | sdebug&lt;/upnp_log&gt;</span></b></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;main_log&gt;error
| warn | info | debug | sdebug&lt;/main_log&gt;</span></b></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;slimmain_log&gt;error
| warn | info | debug | sdebug&lt;/slimmain_log&gt;</span></b></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Level
of debugging for each sub-item of sq2upnp.&nbsp; Leave these at info in the
current version.</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>These
can be overridden in the command line with the -d option.</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><i><span lang=EN-GB>&nbsp;</span></i><b><span lang=EN-US
style='font-size:11.0pt;color:black'>&lt;common&gt;</span></b></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>All items in this sub-section set the
default behaviour for all players. Any option can be repeated in the
&lt;device&gt; section of a given player to override the &lt;common&gt; option.</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><span lang=EN-US style='font-size:11.0pt;color:black'>&nbsp;</span><b><span
style='font-size:11.0pt;color:black'>&lt;server&gt;ip[:port] | ?&lt;/server&gt;</span></b><i><span
style='font-size:11.0pt;color:black'> default = ?</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>ip = IP address or network name, port =
port number (usually 3483) of your LMS server.&nbsp; </span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Use
? for auto-discovery</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>This
can be overridden in the command line with the -s option.</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-US style='font-size:11.0pt;color:black'>&lt;enabled&gt;0
| 1&lt;/enabled&gt;</span></b><i><span lang=EN-US style='font-size:11.0pt;
color:black'> default = 1</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>‘1’ to automatically add any discovered
UPnP player to LMS players, even if there is no &lt;device&gt; section
referring to it. '0' to prevent this.</span></i></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>[Player
discover options </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> Player is enabled]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;<b>&lt;</b></span><b><span
lang=EN-US style='font-size:11.0pt;color:black'>remove_timeout&gt;-1 | value
&gt; 0&lt;/remove_timeout&gt;</span></b><i><span lang=EN-US style='font-size:
11.0pt;color:black'> default = 0</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>Player’s discovery is managed using UPnP
protocol, which means that a player sends regular keep-alive messages and a bye
when disconnecting. Some faulty UPnP stack implementations do not always send
keep-alive messages, so the bridge is disconnecting them regularly. As a
workaround, a timer can be set so that the bridge does not immediately remove
the player from LMS when missing a keep-alive, waiting for it to reconnect</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>-1:
never remove player from LMS</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;value&gt;:
remove player &lt;value&gt; seconds after missing keep-alive</span></i></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b><span
lang=EN-GB style='font-size:11.0pt;color:black'>[Player discover options </span><span
lang=EN-GB style='font-size:11.0pt;font-family:Wingdings;color:black'>è</span><span
lang=EN-GB style='font-size:11.0pt;color:black'> Remove timeout]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span style='font-size:11.0pt;color:black'>&lt;roon_mode&gt;0
| 1&lt;/roon_mode&gt; default = 0</span></b></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>Set to ‘1’ to if you intend to use this
player from a Roon server.</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-US style='font-size:11.0pt;color:black'>&lt;streambuf_size&gt;500000…n&lt;/streambuf_size&gt;
default = 524288</span></b></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>Size of the internal memory buffer used to
store audio data sent by LMS. Any value above 512k is fine. If your network is
slow you may need to increase it.</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;output_size&gt;<a
name="__DdeLink__1856_1756514966">1000000…n</a>&lt;/output_size&gt; </span></b><i><span
lang=EN-GB style='font-size:11.0pt;color:black'>default = 4194304</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>Size of the decoded samples buffer. The
size of this buffer determines how much cross-fading can be done, it must 110%
of the cross-fading duration * sample rate * 8 bytes</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;stream_length&gt;0
| -1 |&nbsp;-3 | &lt;value&gt; 1000000000&lt;/stream_length&gt; default = -3</span></b></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>HTTP
header content-length value reponsed to player</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'> 0 : estimate a value based on duration</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>-1 : no content-length header, using
HTTP200 for open-ended range request</span></i><span lang=EN-GB
style='font-size:11.0pt;color:black'> [no length]</span></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>-2
: no content-length header except when sending pcm and duration known (size =
samplesize*samplerate*channels*duration), using HTTP200 for open-ended range
request</span></i><span lang=EN-GB style='font-size:11.0pt;color:black'> [if
known]</span></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>-3
: chunked transfers (recommended), using HTTP206 for range request </span></i><span
lang=EN-GB style='font-size:11.0pt;color:black'>[Chunked]</span></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;value&gt;:
force the size to be always a fixed value (not recommended)</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-US style='font-size:11.0pt'>&lt;cache&gt;0
| 1 | 2&lt;/cache&gt;</span></b><span lang=EN-US> </span><i><span lang=EN-US
style='font-size:11.0pt'>default = 2</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Set
cache mode for HTTP range request</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'> 0 : use in-memory cache of 8MB and report
accurately what we have stored</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>1 : use in-memory cache of 8MB but report
we have the whole file</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>2 :
use disk cache for the whole file (fallback to 1 when duration is unknown)</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;seek_after_pause
&gt;0 | 1&lt;/seek_after_pause&gt;</span></b><span lang=EN-GB style='font-size:
11.0pt;color:black'> <i>default = 0</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>The best option to pause DLNA players is
to “stall” the TCP connection. However, some players do not support this and
will not pause or resume. This option transforms the LMS ‘pause’ request into a
‘stop’ command to the player. Upon ‘resume’, the bridge will issue a
‘reposition’ request to LMS and restart the track. This uses the CLI interface
to instruct LMS to cue (approximately) to the paused position, so if you have a
login/password set, it will fail as there is no option today to have the bridge
to use a login/password. </span></i></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>[Pause/Resume
management </span><span lang=EN-GB style='font-size:11.0pt;font-family:Wingdings;
color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;color:black'>
Seek on resume]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;<b>volume_on_play&gt;-1
| 0 | 1&lt;/volume_on_play&gt;</b> <i>default = 1</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>LMS sends a volume control command (set to
0) whenever a new player is registered (at startup or any other time). This can
be an annoying and unwanted effect when such player is not actively controlled
by LMS (although it is registered). One way to avoid this is to set the player
“off” in LMS.&nbsp; However, you may want to use the player for other purposes
without having to switch it “off” in LMS. With this parameter set to 1 the
bridge will not obey any volume command from LMS until it is requested to
“play” a track (volume command are still memorized, though). If you want to
ignore all volume commands sent by LMS and only use the player’s own volume
control, set this to -1. Note also that when “off” or when stopped, the bridge
will ignore all UPnP events to avoid unsolicited reaction from LMS when a UPnP
player is being controlled by some other mean than LMS. “Master” volume is the
output controlled by the bridge</span></i></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>[Player
volume management </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> LMS volume changes]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;<b>volume_feedback&gt;0
| 1&lt;/volume_feedback&gt;</b> <i>default = 1</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>When the <u>Master’s</u> volume is changed
directly on the player, the new value is sent (feedback) to LMS so that both
keep in sync. Setting this parameter to 0 disables such feedback loop, but be
aware that LMS overrules volume at the start of each new song. When
&lt;volume_on_play&gt; is set to -1 (ignore all LMS volume commands), such
feedback can be left active but all volume commands sent by LMS will still be
blocked.</span></i></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;[Player
volume management </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> Feedback to LMS]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><a name="__DdeLink__513_1956274692"><b><span
style='font-size:11.0pt'>&lt;max_volume&gt;1..n&lt;/max_volume&gt;</span></b></a>
<i><span style='font-size:11.0pt'>default = 100</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>The normal UPnP volume goes from 0 to 100
but some players have a maximum below or above this. This parameter scales then
volume calculated using &lt;volume_curve&gt; by a ratio of
&lt;max_volume&gt;/100. </span></i></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>[Player
volume management </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> Maximum volume]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;accept_nexturi&gt;-1
| 0 | 1&lt;/accept_nexturi &gt;</span></b><span lang=EN-GB style='font-size:
11.0pt;color:black'> <i>default = 1</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>Gapless play is by setting a “current
track/URI” and a “next track/URI” in UPnP players. When they reach the end of
“current track/URI”, players move to the next one automatically. Some players
do not support this feature and will stop when the “current track/URI” ends.
This options forces the next track to be played on faulty players, but there
will be a gap.&nbsp; Some players buffer the “next track/URI” while playing the
“currentURI” to do real gapless. Other players, although they support “next
track/URI”, wait for the end of the current track before buffering the next
one, and that will create a gap.</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Faulty
players like Bose SoundTouch never inform their UPnP controller when they reach
the end of a track. Use -1 to use elapsed time to detect end of track and
manually move to the next one.</span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Streaming
options </span><span style='font-size:11.0pt;font-family:Wingdings;color:black'>è</span><span
lang=EN-US style='font-size:11.0pt;color:black'> Gapless]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;next_delay&gt;0..n&lt;/next_delay
&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;color:black'> <i>default
= 30</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>When
a next track is requested too early before the end of the current one, some
service may consider that the connection is stalled and will close it.. This
happens for players with very large buffers. Set here the number of seconds,
before the end of the current track, when the next one is requested (0 allows
request immediately)</span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Streaming
options </span><span style='font-size:11.0pt;font-family:Wingdings;color:black'>è</span><span
lang=EN-US style='font-size:11.0pt;color:black'> Delay]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-US style='font-size:11.0pt'>&lt;live_pause&gt;0
| 1&lt;/live_pause &gt;</span></b><span lang=EN-US> </span><i><span lang=EN-US
style='font-size:11.0pt'>default = 1</span></i></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Some
players will not pause when playing live streams (e.g.webradio). It’s correct
that although you can buffer or “timeshift” livestream, in most case it does
not make sense as gap with real time increases forever, at every pause. For
such players, the bridge can commute LMS’ pause request into a stop (only when
playing a livestream)</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-US style='font-size:11.0pt;color:black'>&nbsp;&lt;codecs&gt;[+/-]codec1,
codec2, …&lt;/codecs&gt;</span></b><span lang=EN-US style='font-size:11.0pt;
color:black'> <i>default = aac,ogg,ops,ogf,flc,alc,wav,aif,pcm,mp3</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>The
comma separated list of codecs that will be reported to LMS. If a track is
encoded in a non-supported format, LMS will apply transcoding rules. The codecs
are treated in priority preference order, so if, say, pcm is first, it will be
the chosen codec if the source can be made available in that codec .In passthru
mode, any codec set here that is not detected in the player will be
automatically removed at startup, unless it’s forced in
&lt;forced_mimetypes&gt;. Any codec amongst ogf, flc, pcm, wav, aif, mp3, aac,
ogg, ops, wma, alc can be tried, but unless you’re looking for troubles, better
limit the list to flc,pcm and mp3. For pcm audio, 24 bits samples will be
processed according to &lt;L24_format&gt; and &lt;raw_audio_format&gt; will
determine what is ultimately sent to the player.</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>In
full processing mode the codecs can be flc,mp3,alc,wav,aif,pcm,ogg,ops,ogf and
aac. The bridge will then do the decoding of the audio and the process it
according to &lt;mode&gt;, &lt;L24_format&gt; and &lt;raw_audio_format&gt;
parameters</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>When
set in device-specific section, every codec can be predicated with + or -, in
which case the codec is added to or remove from the default codec list. <u>Note
that a single codec with + or –make the whole list handled as a difference to
the default list</u></span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Audio
codec parameters </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> </span><span lang=EN-US style='font-size:11.0pt;color:black'>codecs]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-US style='font-size:11.0pt;color:black'>&lt;mode&gt;auto|thru|pcm|flc[:&lt;q&gt;]|aac[:&lt;r&gt;]|mp3[:&lt;r&gt;]][,r:[-]&lt;rate&gt;][,s:&lt;8|16|24&gt;][,flow]&lt;/mode&gt;</span></b><span
lang=EN-US style='font-size:11.0pt;color:black'> <i>default = thru</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>The first parameter must be either thru,
pcm, flc or mp3 is mandatory and sets the processing mode.</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>“auto”:
re-encode tracks in flac except for webradio in mp3, aac and ogg and if
send_metadata + send_icy are set.</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>“thru”:
simple passthru mode, audio data is simply forwarded to the player, except for
flac header insertion and sample resizing when receiving pcm audio</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>“null”:
replaces all audio by 64Kbps mp3 silent frames. This can be used to turn the CC
into a metadata display-only device</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>“pcm”:
audio is decoded (&lt;codecs&gt; must amongst ogf, flc, alc, wav, pcm, mp3,
ogg, ogf, ops and aac) and then sent in pcm format to the player. Use “r:”,
“s:” and &lt;L24_format&gt; and &lt;raw_audio_format&gt; to tweak what is sent</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>“flc”:
audio is decoded, then re-encoded into flc. Use “flc:&lt;q&gt;” to set
compression level from 0 to 9 (default = 0, saves a lot of CPU)</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>“aac”:
audio is decoded, then re-encoded into aac. Use “aac:&lt;r&gt;” to set bitrate
(max 320, default 128)</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>“mp3”:
audio is decoded, then re-encoded into mp3. Use “mp3:&lt;r&gt;” to set bitrate
(max 320, default 192)</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;“r:[-]&lt;rate&gt;”:
set the sample rate used in full processing mode. Use ‘-‘ to set the maximum
sample rate allowed, any value above this will cause down-sampling. If “r:” is
not set, the original sample rate will be preserve, unless flow is used</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;“s:&lt;8,16,24&gt;”:
set the sample size used in full processing mode. If not specified, then
original sample size will be preserve, unless flow is used</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>“flow”:
activates flow mode (only valid when used together with “pcm”, “flc”, “aac” or
“mp3”). In flow mode, a continuous flow of audio is sent to the player,
enabling gapless and crossfade. Note that sample rate and size *must* be set to
a specific value as the format of audio sent to the player must always be the
same. By default 44.1kHz / 16 bits will be used if not specified. Note as well
that in flow mode, metadata will not be displayed on the player, unless mp3 is
used, ICY metadata is enabled and your player supports it.</span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>&nbsp;[Audio
codec parameters </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> </span><span lang=EN-US style='font-size:11.0pt;color:black'>Encode]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;sample_rate&gt;32000
| 44100 | 48000 | 88200 | 96000 | 176400 | 192000&lt;/sample_rate&gt;</span></b><span
lang=EN-GB style='font-size:11.0pt;color:black'> <i>default = 48000</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>This
is the maximum sample rate accepted by the UPnP player that will be reported to
LMS. If a track is encoded at a higher rate, LMS will apply resampling rules,
according to its configuration. Note that this is not the sample rate used by
the bridge in full processing mode, this is just what is reported to LMS. In
full processing mode, it’s better (but not mandatory) to set
&lt;sample_rate&gt; to 192000 and manage player’s capabilities through the
&lt;mode&gt; parameter. </span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Audio
codec parameters </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> </span><span lang=EN-US style='font-size:11.0pt;color:black'>Max
Sample Rate]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span style='font-size:11.0pt'>&lt;L24_format&gt;0 | 1
| 2 | 3&lt;/L24_format&gt;</span></b><span style='font-size:11.0pt'> <i>default
= 1</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Defines
what kind of 24 bits sample the player can handle. </span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>0:
packed format with 3 bytes only</span></i></p>

<p class=MsoNormal><a name=move419726797></a><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>1: packed format according to LPCM type 1
packing (similar to the DVD LPCM format)</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>2:
always truncate 24 bits into 16 bits, keep only most significant 2 bytes</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>3:
truncate 24 bits into 16 bits, except for wav and aif </span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Audio
codec parameters </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-US style='font-size:11.0pt;
color:black'> 24 bits PCM]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-US style='font-size:11.0pt;color:black'>&lt;raw_audio_format&gt;format1,
format2, …&lt;/raw_audio_format&gt;</span></b><span lang=EN-US
style='font-size:11.0pt;color:black'> <i>default = wav,aif,raw</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>When
LMS sends raw audio, it can be forwarded to the player using different formats.
Just raw pcm data or in wav by adding a wav header or in aiff by adding an aiff
header. Not all players accept the three options, but regardless, you can
specify here the authorized format in order of preference. It is useful when
your player claims to support all but is better supporting (eg) 24 bits or
high-bit rate in raw pcm. See also the parameter &lt;match_endianness&gt; and <a
name="__DdeLink__1921_842035336">section </a></span></i><span lang=EN-GB>3.7</span><i><span
lang=EN-GB style='font-size:11.0pt;color:black'> above.</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>When
set in device-specific section, every format can be predicated with + or -, in
which case the format is added to or remove from the default format list. <u>Note
that a single format with + or –make the whole list handled as a difference to
the default list</u></span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Audio
codec parameters </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> </span><span lang=EN-US style='font-size:11.0pt;color:black'>Uncompressed
format]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;flac_header&gt;0
| 1 | 2 | 3&lt;/flac_header&gt;</span></b><span lang=EN-GB style='font-size:
11.0pt;color:black'> <i>default = 1</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>When
repositioning flac streams, LMS re-generates a file starting from the new
position but does not insert a proper header and frame indexes are not adjusted
to start from 0. Such header is required by some players and it contains
information like total number of samples in the file. The bridge cannot know
these values and the flac standard specifies that they should be set to 0 when
unknown. Still, some players do not comply and expect a non-zero total number
of frames and at least counted from the value of the first frame, not from 0.</span></i></p>

<p class=MsoNormal><i><u><span lang=EN-GB style='font-size:11.0pt;color:black'>This
only applies to passthrough mode.</span></u></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>0 :
no header re-inserted</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>1:
header re-inserted with 0 for total number of sample and checksum</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>2:
header re-inserted with 2^36-1 for total number of samples</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>3:
header re-inserted with number of samples calculated from remaining duration +
first frame index</span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Audio
codec parameters </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> </span><span lang=EN-US style='font-size:11.0pt;color:black'>FLAC
header]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;mp4&gt;0
| 1&lt;/mp4&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;color:black'>
<i>default = 1</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-US style='font-size:11.0pt;color:black'>Prevents
the bridge from sending mp4 files to the player. This disables ALAC support </span></i><i><span
lang=EN-GB style='font-size:11.0pt;color:black'>and LMS will have to transcode
but AAC in mp4 will still be supported by stripping mp4 container and sending
raw adts frames to the player, providing it has mp4,m4a or aac in its
capabilities.</span></i></p>

<p class=MsoNormal><i><u><span lang=EN-GB style='font-size:11.0pt;color:black'>This
only applies to passthrough mode</span></u></i><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>.</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>0 :
disable mp4</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>1:
enable mp4</span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Audio
codec parameters </span><span lang=EN-GB style='font-size:11.0pt;font-family:
Wingdings;color:black'>è</span><span lang=EN-GB style='font-size:11.0pt;
color:black'> </span><span lang=EN-US style='font-size:11.0pt;color:black'>FLAC
header]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;forced_mimetypes&gt;type1,
type2, …&lt;/forced_mimetypes&gt;</span></b><span lang=EN-GB style='font-size:
11.0pt;color:black'> <i>default =””</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Some
players do not report their full capabilities in their ProtocolInfo parameter.
This will force a list of types to be accepted. Each type is of a form
audio/xxx, for example audio/flac to force flac or audio/aac to force aac</span></i></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;send_metadata&gt;0
| 1&lt;/send_metadata&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;
color:black'> <i>default = 1</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>If
you do not want to see metadata (Artist, Album name etc.) on your player, or if
you have a login and password for the LMS CLI interface, set this to 0.&nbsp;
Version 0.1.4.0 on. <u><span style='background:yellow'>Disabling this impacts
badly the handling of uncompressed audio format</span> </u></span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Send
LMS metadata to player]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;coverart&gt;&lt;X&gt;x&lt;Y&gt;&lt;/coverart&gt;</span></b><span
lang=EN-GB style='font-size:11.0pt;color:black'> <i>default = empty</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Force
the resolution of coverart sent to the UPnP Player</span></i></p>

<p class=MsoNormal style='margin-top:10.0pt'><span lang=EN-US style='font-size:
11.0pt;color:black'>[at resolution]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;send_icy&gt;0
| 1 | 2&lt;/send_icy&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;
color:black'> <i>default = 1</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>If
the player supports it (detected automatically), this enables the bridge to
forward ICY metadata that are found in live stream (like webradio). This will
impact the ability of some players to pause properly as they will surely know
that the stream they receive is live. This only applies to passthrough mode,
obviously. When &lt;send_metadata&gt; is disabled, this parameter will not
apply</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>0 :
no icy metadata</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>1:
send artist, tital and artwork URL</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>2:
send only artist and title as artwork URL is not well standardized and some
player might fail when receiving it</span></i></p>

<p class=MsoNormal><span lang=EN-US style='font-size:11.0pt;color:black'>[Send
LMS metadata to player </span><span lang=EN-US style='font-size:11.0pt;
font-family:Wingdings;color:black'>è</span><span lang=EN-US style='font-size:
11.0pt;color:black'> Send ICY metadata]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;send_coverart&gt;0
| 1&lt;/send_coverart&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;
color:black'> <i>default = 1</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt;margin-right:0cm;margin-bottom:0cm;
margin-left:0cm'><i><span lang=EN-GB style='font-size:11.0pt;color:black'>If
you do not want to see coverert on your player, or if you have a login and
password for the LMS CLI interface, set this to 0.&nbsp; Version 0.2.5.0 on.</span></i></p>

<p class=MsoNormal style='margin-top:10.0pt'><span lang=EN-US style='font-size:
11.0pt;color:black'>[Send LMS metadata to player </span><span lang=EN-US
style='font-size:11.0pt;font-family:Wingdings;color:black'>è</span><span
lang=EN-US style='font-size:11.0pt;color:black'> include cover art]</span></p>

<p class=MsoNormal style='margin-top:20.0pt;margin-right:0cm;margin-bottom:
0cm;margin-left:0cm'><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;auto_play&gt;0
| 1&lt;/auto_play&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;
color:black'> <i>default = 0</i></span></p>

<p class=MsoNormal style='margin-top:5.0pt'><i><span lang=EN-GB
style='font-size:11.0pt;color:black'>Set to 1 if you want the player to auto
start playing on power on. Seems that this feature is broken in LMS, so this is
a workaround. Version 0.2.6.0 on.</span></i></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;/common&gt;</span></b></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>This
is the beginning of the sections that describes each device. There must be one
&lt;device&gt; section for each UPnP player. Any parameter set in the
&lt;common&gt; can be repeated here, to override the defaults.</span></i></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>first
device …</span></i></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;device&gt;</span></b></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;<b>udn&gt;uuid:</b><i>RINCON_000E58FD8A4A01400</i><b>&lt;/udn&gt;</b></span></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>!!!
DO NOT EDIT THIS !!!&nbsp; It is the UPnP device unique identifier for that
player – this is discovered automatically. The example is is for a Sonos
player.</span></i></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;<b>friendly_name&gt;</b>192.168.2.20
- Sonos PLAY:3&lt;<b>friendly_name&gt;</b></span></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>!!!
DO NOT EDIT THIS !!!&nbsp; It is the UPnP device name set by player – this is
discovered automatically. The example is is for a Sonos player.</span></i></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;name&gt;string&lt;/name&gt;</span></b></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>The
name of the player as seen in LMS – can be set to whatever you want, from the
LMS web interface or from the plugin’s settings.&nbsp; Defaults to the “UPnP
friendly” name.</span></i></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;mac&gt;xx:xx:xx:xx:xx:xx&lt;/mac&gt;</span></b></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>The
mac address of the player, note that <u>all players must have unique mac for
LMS to work properly. </u>If this parameter is omitted, the bridge will try to
discover the true physical address and replace the first 2 bytes with ‘bb’(this
is needed to make sure mac is unique across different bridge plugins). If it
cannot be discovered, then a random unique value will be generated, again with
the first 2 bytes set to ‘bb’</span></i></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;enabled&gt;0
| 1&lt;/enabled&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;
color:black'> <i>default = 1</i></span></p>

<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Set
to 1 to allow the UPnP player to be managed be the bridge. An LMS device will
be created for each player whose mode is above 0. Set to 0 to ignore the
player.&nbsp; It may be better to keep a list of all known players in the
configuration and disable those you don't want to use, so that you have a list
of the uuids should you ever need them.</span></i></p>

<p class=MsoNormal><b><span style='font-size:11.0pt;color:black'>&lt;/device&gt;</span></b></p>

<p class=MsoNormal><i><span style='font-size:11.0pt;color:black'>next device …</span></i></p>

<p class=MsoNormal><b><span style='font-size:11.0pt;color:black'>&lt;device&gt;</span></b></p>

<p class=MsoNormal><i><span style='font-size:11.0pt;color:black'>…</span></i></p>

<p class=MsoNormal><b><span style='font-size:11.0pt;color:black'>&lt;/device&gt;</span></b></p>

<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;/squeeze2upnp&gt;</span></b></p>

<p class=MsoNormal><span lang=EN-GB style='font-size:14.0pt;font-family:"Liberation Sans"'>&nbsp;</span></p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
